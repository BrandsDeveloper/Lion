name: Acessos Workflow

on: [push]

jobs:
  verificar_acessos:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: Configurar Variáveis de Ambiente
      run: |
        echo "DB_HOST=${{ secrets.DB_HOST }}" >> $GITHUB_ENV
        echo "DB_TABLE=${{ secrets.DB_TABLE }}" >> $GITHUB_ENV
        echo "DB_USER=${{ secrets.DB_USER }}" >> $GITHUB_ENV
        echo "DB_PASS=${{ secrets.DB_PASS }}" >> $GITHUB_ENV
    - name: Imprimir Variáveis de Ambiente (Opcional - Remover em produção)
      run: |
        echo "Host: $DB_HOST"
        echo "Database: $DB_TABLE"
        echo "User: $DB_USER"
        echo "Password: $DB_PASS"
    - name: Executar script PHP
      run: php api/index.php
